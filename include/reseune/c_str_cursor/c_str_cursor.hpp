#ifndef RESEUNE_C_STR_CURSOR_HPP
#define RESEUNE_C_STR_CURSOR_HPP

#include <string.h>

// =================================================================================================================
namespace reseune {
  
  // ===============================================================================================================
  class c_str_cursor {
  protected:
    const char * const m_begin;
    const char * const m_end;
    const char *       m_position;

  public:
  
    // =============================================================================================================
    inline constexpr c_str_cursor(const char * const str) :
      m_begin(str),
      m_end(&m_begin[strlen(str)]),
      m_position(m_begin) {}

    // =============================================================================================================
    inline constexpr const char * begin() const {
      return m_begin;
    }

    // =============================================================================================================
    inline constexpr const char * end() const {
      return m_end;
    }
    
    // =============================================================================================================
    inline constexpr const char * pos() const {
      return m_position;
    }
    
    // =============================================================================================================
    inline constexpr const char * set_pos(const char * pos) {
      if ((pos >= begin())
          && (pos < end()))
        return (m_position = pos);
      return nullptr;
    }
    
    // =============================================================================================================
    inline constexpr char operator * () const {
      return *m_position;
    }
    
    // =============================================================================================================
    inline char operator ++ () {
      return *++m_position;
    }

    // =============================================================================================================
    inline char operator ++ (int) {
      char c = **this;
      ++m_position;
      return c;
    }
  
    // =============================================================================================================
    inline char operator -- () {
      return *--m_position;
    }

    // =============================================================================================================
    inline char operator -- (int) {
      char c = **this;
      --m_position;
      return c;
    }

    // =============================================================================================================
  };
  // ===============================================================================================================
}
// =================================================================================================================

#endif
